<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-title">
                    <div class="row">
                        <div class="col-sm-5">
                            <h2>Configurações</h2>
                        </div>
                        <div class="col-sm-7"></div>
                    </div>
                </div>
                <div class="panel-body">
                    <form [formGroup]="settingsFormGroup">
                        <div class="form-group">
                            <input type="file" id="file" formControlName="file" (change)="uploadFile($event)">
                            <label class="image" #image for="file"></label>
                        </div>
                        <div class="form-group">
                            <label for="name">Nome</label>
                            <input type="email" class="form-control" id="name" placeholder="Nome" formControlName="name">
                        </div>
                        <div class="form-group">
                            <label>Descrição <small>({{ settingsFormGroup.controls['description'].value.length }}/255)</small></label>
                            <textarea rows="3" maxlength="255" placeholder="Descrição" class="form-control" formControlName="description"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="minimumValue">Valor mínimo</label>
                            <input type="email" class="form-control" id="minimumValue" mask [maskPatterns]="moneyMask" placeholder="Valor mínimo" formControlName="minimumValue">
                        </div>
                        <button type="submit" class="btn btn-success" [disabled]="!settingsFormGroup.valid" (click)="saveSettings(settingsFormGroup.value)">Salvar</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default be-loading" [ngClass]="{'be-loading-active': isLoadingDistrict}">
                <div class="panel-title">
                    <div class="row">
                        <div class="col-sm-5">
                            <h2>Bairros</h2>
                        </div>
                        <div class="col-sm-7"></div>
                    </div>
                </div>
                <div class="panel-body">
                    <p>Selecione abaixo os bairros que deseja atender...</p>
                    <div class="form-group">
                        <ng-multiselect-dropdown
                            [placeholder]="'Selecione um bairro'"
                            [data]="dropdownList"
                            [(ngModel)]="selectedItems"
                            [settings]="dropdownSettings"
                            (onSelect)="onItemSelect($event)"
                            (onDeSelect)="onItemDeSelect($event)"
                        >
                        </ng-multiselect-dropdown>
                    </div>
                </div>

                <div class="be-spinner">
                    <svg width="20px" height="20px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
                        <circle fill="none" stroke-width="4" stroke-linecap="round" cx="33" cy="33" r="30"
                                class="circle"></circle>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-title">
                    <div class="row">
                        <div class="col-sm-5">
                            <h2>Horário de Funcionamento</h2>
                        </div>
                        <div class="col-sm-7">

                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <form [formGroup]="workedDaysFormGroup">
                        <table class="table">
                            <thead>
                                <tr>
                                    <td>
                                        <span class="pull-left" style="font-weight: bold;">
                                            <input type="checkbox" [formControl]="workedDaysFormGroup.get('1')['controls']['enabled']">
                                            Segunda
                                        </span>
                                    </td>
                                    <td>
                                        <span class="pull-left" style="font-weight: bold;">
                                            <input type="checkbox" [formControl]="workedDaysFormGroup.get('2')['controls']['enabled']">
                                            Terça
                                        </span>
                                    </td>
                                    <td>
                                        <span class="pull-left" style="font-weight: bold;">
                                            <input type="checkbox" [formControl]="workedDaysFormGroup.get('3')['controls']['enabled']">
                                            Quarta
                                        </span>
                                    </td>
                                    <td>
                                        <span class="pull-left" style="font-weight: bold;">
                                            <input type="checkbox" [formControl]="workedDaysFormGroup.get('4')['controls']['enabled']">
                                            Quinta
                                        </span>
                                    </td>
                                    <td>
                                        <span class="pull-left" style="font-weight: bold;">
                                            <input type="checkbox" [formControl]="workedDaysFormGroup.get('5')['controls']['enabled']">
                                            Sexta
                                        </span>
                                    </td>
                                    <td>
                                        <span class="pull-left" style="font-weight: bold;">
                                            <input type="checkbox" [formControl]="workedDaysFormGroup.get('6')['controls']['enabled']">
                                            Sábado
                                        </span>
                                    </td>
                                    <td>
                                        <span class="pull-left" style="font-weight: bold;">
                                            <input type="checkbox" [formControl]="workedDaysFormGroup.get('0')['controls']['enabled']">
                                            Domingo
                                        </span>
                                    </td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('1')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('1')['controls']['start']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('2')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('2')['controls']['start']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('3')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('3')['controls']['start']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('4')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('4')['controls']['start']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('5')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('5')['controls']['start']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('6')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('6')['controls']['start']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('0')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('0')['controls']['start']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('1')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('1')['controls']['end']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('2')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('2')['controls']['end']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('3')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('3')['controls']['end']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('4')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('4')['controls']['end']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('5')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('5')['controls']['end']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('6')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('6')['controls']['end']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                    <td>
                                        <fieldset [disabled]="workedDaysFormGroup.get('0')['controls']['enabled'].value">
                                            <input type="text" mask [maskPatterns]="hourMask" [maxlength]="5" [formControl]="workedDaysFormGroup.get('0')['controls']['end']" (focusout)="verifyField($event)" placeholder="hh:mm" class="form-control">
                                        </fieldset>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <button class="btn btn-success" [disabled]="!workedDaysFormGroup.valid" (click)="saveWorkedDays(workedDaysFormGroup.value)">Salvar</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
